Patch Note: Sentiment Analysis System Refactoring (v2.0)

Date: 2025-12-18
Author: DevOps Team

π€ Major Features & Improvements
1. λ°°μΉ μ²λ¦¬ μ•„ν‚¤ν…μ² λ„μ… (Batch Processing)
API μ„±λ¥ μµμ ν™”: κΈ°μ΅΄ sequential λ°©μ‹(1κ±΄μ”© νΈμ¶)μ—μ„ /batch μ—”λ“ν¬μΈνΈλ¥Ό ν™μ©ν• **Bulk μ²λ¦¬(32κ±΄ λ‹¨μ„)**λ΅ λ³€κ²½ν•μ—¬ λ„¤νΈμ›ν¬ μ¤λ²„ν—¤λ“ μµμ†ν™”.

DB λ¶€ν• κ°μ†: executemanyλ¥Ό μ‚¬μ©ν•μ—¬ Insert μΏΌλ¦¬λ¥Ό λ°°μΉ λ‹¨μ„λ΅ μ²λ¦¬, νΈλμ­μ… κ΄€λ¦¬ ν¨μ¨μ„± μ¦λ€.

μ•μ •μ„± κ°•ν™”: ON DUPLICATE KEY UPDATE κµ¬λ¬Έμ„ μ μ©ν•μ—¬ μ¬μ‹¤ν–‰ μ‹ λ°μ΄ν„° μ¤‘λ³µ λ°©μ§€ λ° μµμ‹  κ²°κ³Ό κ°±μ‹  λ³΄μ¥.

2. λ°μ΄ν„°λ² μ΄μ¤ κµ¬μ΅° ν†µν•© (Unified Schema)
ν…μ΄λΈ” ν†µν•©: λ¨λΈλ³„λ΅ ννΈν™”λμ–΄ μλ κ²°κ³Ό ν…μ΄λΈ”(kobert_results, koelectra_results)μ„ λ‹¨μΌ ν…μ΄λΈ” **sentiment_results**λ΅ ν†µν•©.

μ¤ν‚¤λ§: id, article_id, model_name, model_version, sentiment, score, inference_time_ms, created_at

ν™•μ¥μ„± ν™•λ³΄: μƒλ΅μ΄ λ¨λΈ μ¶”κ°€ μ‹ DDL(ν…μ΄λΈ” μƒμ„±) λ³€κ²½ μ—†μ΄ model_name μ»¬λΌ κ°’λ§ λ³€κ²½ν•μ—¬ μ¦‰μ‹ λ€μ‘ κ°€λ¥.

μΈμ½”λ”© μμ •: crawler_article_list ν…μ΄λΈ”μ Charsetμ„ utf8mb4λ΅ λ³€κ²½ν•μ—¬ μ΄λ¨μ§€ λ° νΉμλ¬Έμ μ €μ¥ μ¤λ¥ ν•΄κ²°.

3. Config κΈ°λ° λ™μ  μ΄μ (Configuration Driven)
ν•λ“μ½”λ”© μ κ±°: λ¨λΈλ…, λ²„μ „, λ°°μΉ ν¬κΈ°, μΏΌλ¦¬λ¬Έ, κ°μ • λ©λ΅, μ΄λ¨μ§€ λ§¤ν•‘ λ“±μ„ config.ini νμΌλ΅ μ™Έλ¶€ν™”.

μ μ—°ν• μ μ–΄: μ½”λ“ λ°°ν¬ μ—†μ΄ μ„¤μ • νμΌ μμ •λ§μΌλ΅ λΉ„κµ λ€μƒ λ¨λΈ λ³€κ²½ λ° μ‹ κ· λ¨λΈ λ“±λ΅ κ°€λ¥.

4. μ›Ή λ€μ‹λ³΄λ“ κ³ λ„ν™” (Flask Web UI)
λΉ„κµ νμ΄μ§€(Comparison) κ°νΈ:

DBμ— λ“±λ΅λ λ¨λ“  λ¨λΈμ„ λ“λ΅­λ‹¤μ΄μ—μ„ μ„ νƒν•μ—¬ Model A vs Model Bλ¥Ό λ™μ μΌλ΅ λΉ„κµν•λ” κΈ°λ¥ κµ¬ν„.

URL νλΌλ―Έν„°(?model1=...&model2=...)λ¥Ό ν†µν• λ”¥λ§ν¬ μ§€μ›.

ν†µν•© κ²°κ³Ό νμ΄μ§€(Model Result):

λ¨λΈλ³„ κ°λ³„ ν…ν”λ¦Ώμ„ μ κ±°ν•κ³  **λ‹¨μΌ ν…ν”λ¦Ώ(model_result.html)**μΌλ΅ ν†µν•©.

keyword μ»¬λΌ μ κ±° λ° μΈλ±μ¤ μ¬μ •λ ¬ λ°μ.

Client-side Filtering κΈ°λ¥ λ³µκµ¬ (ID, Title, Sentiment, Score λ“± μ»¬λΌλ³„ μ‹¤μ‹κ°„ κ²€μƒ‰).

μ •μ  λ¦¬μ†μ¤ κ²½λ΅ μμ •: header.html λ‚΄ CSS/JS κ²½λ΅λ¥Ό url_for μ λ€ κ²½λ΅λ΅ λ³€κ²½ν•μ—¬ μ¤‘μ²© URL(/model/kobert)μ—μ„μ 404 μ—λ¬ ν•΄κ²°.

π›  Bug Fixes & Hotfixes
SQL μ—λ¬ μμ •: configparserμ % λ¬Έμ ν•΄μ„ μ¤λ¥ ν•΄κ²°μ„ μ„ν•΄ interpolation=None μµμ… μ μ© λ° μΏΌλ¦¬ λ‚΄ keyword μ»¬λΌ μ κ±°.

μΈλ±μ¤ μ¤λ¥ μμ •: μΏΌλ¦¬ μ»¬λΌ κ°μμ™€ νμ΄μ¬ νμ‹± μΈλ±μ¤ λ¶μΌμΉλ΅ μΈν• IndexError: tuple index out of range ν•΄κ²°.

UI λ λ”λ§ μμ •: λΉ„κµ νμ΄μ§€μ—μ„ μΏΌλ¦¬ νλΌλ―Έν„° λ„λ½μΌλ΅ μΈν• 500 μ—λ¬ ν•΄κ²° (κΈ°λ³Έ λ¨λΈ μ§€μ • λ΅μ§ μ¶”κ°€).